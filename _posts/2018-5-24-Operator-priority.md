---
layout: post
title: C/C++运算符优先级
categories: [C/C++]
tags: CBIR
---

## 运算符优先级

> 如果不把语言中的优先级学好不可能写出复杂但是功能强大的表达式

<p style="color:red">1. 内部运算符</p>

| 优先级 | 运算符 | 含义 |目数|结合方向|
	| :-: | :-: | :-: |:-:|:-:|
|1|()|圆括号|0|自左向右|
|1|[]|下标运算符|0|自左向右|
|1|->|指向结构体成员运算符|0|自左向右|
|1|.|结构体成员运算符|0|自左向右|

<p style="color:red">2. 单目运算符 </p>

| 优先级 | 运算符 | 含义 |目数|结合方向|
		| :-: | :-: | :-: |:-:|:-:|
|2|!|逻辑非运算符|1|**自右向左**|
|2|~|按位取反运算符|1|自右向左|
|2|++|自增运算符|1|自右向左|
|2|--|自减运算符|1|自右向左|
|2|-|**负号运算符**|1|自右向左|
|2|（类型）|类型转换运算符|1|自右向左|
|2|*|指针运算符|1|自右向左|
|2|&|取地址运算符|1|自右向左|
|2|sizeof|长度运算符|1|自右向左|

<p style="color:red">3. 算术运算符</p>

| 优先级 | 运算符 | 含义 |目数|结合方向|
| :-: | :-: | :-: |:-:|:-:|
|3|*|乘法运算符|2|自左向右|
|3|/|除法运算符|2|自左向右|
|3|%|取余运算符|2|自左向右|
| | | | | |
|4|+|加法运算符|2|自左向右|
|4|-|减法运算符|2|自左向右|
| | | | | |
|5|<<|左移运算符|2|自左向右|
|5|>>|右移运算符|2|自左向右|

<p style="color:red">4. 关系运算符</p>

| 优先级 | 运算符 | 含义 |目数|结合方向|
		| :-: | :-: | :-: |:-:|:-:|
|6|< <= > >=|关系运算符|2|自左向右|
|7|== ！=|关系运算符|2|自左向右|

<p style="color:red">5. 位运算符</p>

| 优先级 | 运算符 | 含义 |目数|结合方向|
		| :-: | :-: | :-: |:-:|:-:|
|8|&|按位与|2|自左向右|
|9|^|按位异或|2|自左向右|
|10|\||按位或|2|自左向右|

<p style="color:red">6. 逻辑运算符</p>

| 优先级 | 运算符 | 含义 |目数|结合方向|
		| :-: | :-: | :-: |:-:|:-:|
|11|&&|逻辑与|2|自左向右|
|12|\|\||逻辑或|2|自左向右|
|13|?:|条件运算符|3|**自右向左**|

<p style="color:red">7. 赋值运算符</p>

| 优先级 | 运算符 | 含义 |目数|结合方向|
		| :-: | :-: | :-: |:-:|:-:|
|14|= += -= \*= /= %= >>= <<= &= ^= \|= |赋值运算符|2| **自右向左**|

<p style="color:red">8. 逗号运算符</p>

| 优先级 | 运算符 | 含义 |目数|结合方向|
		| :-: | :-: | :-: |:-:|:-:|
|15|,|逗号运算符| | 自左向右|


### 同一优先级中的运算符应该按照结合方向按照顺序参与运算

#### 1. 如何理解1优先级中的自左向右参与运算
```
e.g.
a[1][2][3]

```
#### 2. 如何理解2优先级中的自右向左参与运算
```
e.g. 
(a++)++
((a++)--)++
!(!a)
*(*(*a))

```
#### 3. 一个= 和 >=号没有分辨而造成的错误实例
```
int a,b,c;
while(a=b>c){
	//code here
}
while( (a=b)>c ){

}
//以上两种情况产生的最后结果是不同的，逻辑运算符还是大于赋值运算符的优先级的

	#include<iostream>
	
	using namespace std;
	
	int test_return_value(int input_num){
		
		
		return input_num;
	}
	
	int main(){
		
		int testa = 10;
		int testb = 20;
		cout<< "testa=test_return_value(30):" << test_return_value(30) <<endl;
		cout<< "(testa=testb):" << (testa=testb) <<endl;
		//测试点1 
		cout<<"testa=test_return_value(30)<10:"<< ( (testa=test_return_value(30)) <10) <<endl;
		cout<<"now for testa is:"<<testa<<endl;
		//测试点2 
		cout<<"(testa=test_return_value(30)<10):"<< ( (testa=test_return_value(30)<10) ) <<endl;
		cout<<"now for testa is:"<<testa<<endl;
		//测试点1和测试点2的最终结果不相同还是因为运算符的优先级不同造成的结果
		//所以优先级这一关不过不要想着能写出复杂的 C 语句 
		return 0;
	}
```

